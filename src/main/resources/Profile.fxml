<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.Insets?>

<VBox xmlns="http://javafx.com/javafx/17.0.6" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="org.example.pidev.controllers.ProfileController"
      style="-fx-background-color: #f5f5f5;" spacing="20"
      >

    <padding>
        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
    </padding>

    <!-- Card Container -->
    <VBox style="-fx-background-color: white; -fx-background-radius: 5; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 5, 0, 0, 1);"
          spacing="15" >
        <padding>
            <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
        </padding>

        <!-- Card Header -->
        <Label text="User Profile" style="-fx-font-size: 18px; -fx-font-weight: bold;" />

        <!-- Separator -->
        <Separator />

        <!-- Form -->
        <GridPane hgap="10" vgap="15">
            <columnConstraints>
                <ColumnConstraints hgrow="SOMETIMES" minWidth="100" prefWidth="150" />
                <ColumnConstraints hgrow="SOMETIMES" minWidth="150" prefWidth="300" />
            </columnConstraints>

            <!-- Name Field -->
            <Label text="Name:" GridPane.rowIndex="0" GridPane.columnIndex="0" />
            <TextField fx:id="nameField" GridPane.rowIndex="0" GridPane.columnIndex="1" />
            <Label fx:id="nameError" style="-fx-text-fill: red;" GridPane.rowIndex="1" GridPane.columnIndex="1" />

            <!-- Last Name Field -->
            <Label text="Last Name:" GridPane.rowIndex="2" GridPane.columnIndex="0" />
            <TextField fx:id="lastNameField" GridPane.rowIndex="2" GridPane.columnIndex="1" />
            <Label fx:id="lastNameError" style="-fx-text-fill: red;" GridPane.rowIndex="3" GridPane.columnIndex="1" />

            <!-- Email Field -->
            <Label text="Email:" GridPane.rowIndex="4" GridPane.columnIndex="0" />
            <TextField fx:id="emailField" GridPane.rowIndex="4" GridPane.columnIndex="1" />
            <Label fx:id="emailError" style="-fx-text-fill: red;" GridPane.rowIndex="5" GridPane.columnIndex="1" />

            <!-- Phone Field -->
            <Label text="Phone:" GridPane.rowIndex="6" GridPane.columnIndex="0" />
            <TextField fx:id="phoneField" GridPane.rowIndex="6" GridPane.columnIndex="1" />
            <Label fx:id="phoneError" style="-fx-text-fill: red;" GridPane.rowIndex="7" GridPane.columnIndex="1" />

            <!-- Change Password Button -->
            <Button text="Change Password" style="-fx-background-color: rgb(202,138,98); -fx-text-fill: white;"
                    onAction="#handleChangePassword" GridPane.rowIndex="8" GridPane.columnIndex="1"
                    GridPane.halignment="LEFT" />

            <!-- Image Upload -->
            <Label text="Profile Image:" GridPane.rowIndex="9" GridPane.columnIndex="0" />
            <HBox spacing="10" GridPane.rowIndex="9" GridPane.columnIndex="1">
                <Button text="Browse..." style="-fx-border-color: rgb(202,138,98); -fx-border-radius: 5; -fx-background-color: white;" onAction="#handleImageUpload" />
                <Label fx:id="imageNameLabel" text="No file selected" />
            </HBox>
            <ImageView fx:id="profileImageView" fitHeight="100" fitWidth="100" preserveRatio="true"
                       GridPane.rowIndex="10" GridPane.columnIndex="1" GridPane.halignment="LEFT" />
            <Label fx:id="imageError" style="-fx-text-fill: red;" GridPane.rowIndex="11" GridPane.columnIndex="1" />

            <!-- Submit Button -->
            <Button text="Save Changes" style="-fx-background-color: rgb(202,138,98); -fx-text-fill: white;"
                    onAction="#handleSubmit" GridPane.rowIndex="12" GridPane.columnIndex="1"
                    GridPane.halignment="RIGHT" />
        </GridPane>
    </VBox>
</VBox>